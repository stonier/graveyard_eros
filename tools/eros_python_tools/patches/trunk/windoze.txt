===== Background =====

Geoffrey Big's efforts

For his original effort at converting to python and also including some patches:

- https://code.ros.org/gf/project/ros/scmsvn/?action=browse&path=%2Fstacks%2Fros%2Fbranches%2Fwindows%2F

Robotics Equipments Corporation

A port of comms to windows via msvc.

http://www.servicerobotics.eu/index.php?id=37

To download their svn tree:

svn co http://ros-win32.servicerobotics.eu/trunk/cturtle/ ./msvc
    
==================== RosTime ====================
  
== Against ==

Files: time.h duration.h time.cpp
Patched Against: r12815
Ticket: https://code.ros.org/trac/ros/ticket/3331

== Summary	 ==

Windows dropins for getting the time and sleeping.
code for catching the time (already there, just needed to edit out the 
ROS_INFO) and nanosleep (provided by Geoff Biggs).

== Mingw Fixes ==

- duration.h, ros.h
  - remove the #include <windows.h>, doesn't seem to need it.
  
- time.cpp
  - drop out now broken ROS_INFO calls.
  - drop in Geoffrey Biggs nanosleep replacement.
  - fix Geoffrey's bugs in the sleep code.
  
== ToDo ==

clock_gettime and nanosleep could probably be set up with their own proper cross platform
function definitions rather than having a scattering of ifdefs.

==================== RosConsole ====================

== Against ==

File : CMakeLists.txt, include/ros/assert.h, include/ros/console.h, rosconsole.cpp
Revisions: 12943, 8377, 12775, 10539
Patched Against: 12775
Ticket: https://code.ros.org/trac/ros/ticket/3334
  
== Summary ==

Just put in a special case for mingw, not windows debug breaks and some cleanup.
Could update the colouring info for windows.

== Mingw ==

- CMakeLists.txt
  - temporary fix to make example.exe build, had to link by hand ach.
- assert.h
  - ifdef for mingw using DebugBreak instead of msvc's __debugbreak().
- console.h
  - mingw needs to include <cstdarg> in order to find va_list type.
- rosconsole.cpp
  - remove shell colours in windows (probably has a different notation?)

===================== Xmlrpcpp =====================

== Against ==

File: CMakeLists.txt, src/XmlRpcSocket.h
Patched Against: 11844
Ticket: https://code.ros.org/trac/ros/ticket/3332

== Summary ==

Funny defines for _WINDOW accomodated for as well as an extra header. Note this also
needed the toolchain to define the macro _WIN32_WINNT=0x0501, but that's easiest done
in the toolchain file.

== Mingw ==

- CMakeLists.txt
  - make sure we define xmlrpc's _WINDOW macro when on WIN systems (let cmake detect for us). 
- XmlRpcSocket.cpp
  - added an include for <ws2tcpip.h> - will be different for other wins?
  - avoid an EWOULDBLOCK error output on connecting (see comments).
  
====================== Roscpp ======================

== Against ==

Files: lots
Revision: 12965 (last package revision)

== Summary ==

Note, couldn't use service robotics socket stuff because the WSA calls only exist
in windows vista onwards. Instead, using some old player code but probably needs an update.

== Issue Tracking ==

- init.cpp
  - https://code.ros.org/trac/ros/ticket/3319 : moving the time init function.
  
== Eros ==

It also overlays across patches from eros in diamondback to slow down timers (see
the diffs there for details).

- init.cpp
  - in internalCallbackQueueThreadFunc(), slows down the timer.

== Mingw ==

- poll_set.h
  - avoid the call to <poll.h> in windows.
- transport/transport_tcp.h, transport/transport_udf.h
  - appropriately redirect socket headers.
- common.cpp
  - disable signals altogether.
- poll_set.cpp
  - this is where that ugly old player code comes in.
- headers.cpp
  - removed a seemingly unused <sys/socket.h> call that was not found by mingw.
- include/ros/transport/transport_tcp.h _udp.h, src/libros/transport/transport_tcp.cpp, _udp.cpp
  - replaced alot fo the linux socket code with old (pre vista windows code).
  - for vista and later, see service robotics hacks.
- file_log.cpp
  - macros for pid's
  - minor change in log4cxx handling.
- init.cpp
  - alot of cludgy hacks from service robotics (jeff's dropped the appender).
- subscription.cpp 
  - avoid the posix header calls in windows.
- rosout_appender.cpp
  - undefine windows.h' ERROR macro (can't live with rosgraph_msgs/Log.h)
- xmlrpc_manager.cpp
  - define a macro so getpid can be compiled without hackery.
- network.cpp
  - avoid posix socket header calls in windows.
- network.h, network.cpp, master.h, master.cpp
  - api to allow the host and program URI's and port to be set programatically.
  
