===== Background =====

Geoffrey Big's efforts

For his original effort at converting to python and also including some patches:

- https://code.ros.org/gf/project/ros/scmsvn/?action=browse&path=%2Fstacks%2Fros%2Fbranches%2Fwindows%2F

Robotics Equipments Corporation

A port of comms to windows via msvc.

http://www.servicerobotics.eu/index.php?id=37

To download their svn tree:

svn co http://ros-win32.servicerobotics.eu/trunk/cturtle/ ./msvc

====================== Roscpp ======================

== Against ==

Files: lots
Revision: 12965 (last package revision)

== Summary ==

Note, couldn't use service robotics socket stuff because the WSA calls only exist
in windows vista onwards. Instead, using some old player code but probably needs an update.

== Issue Tracking ==

- init.cpp
  - https://code.ros.org/trac/ros/ticket/3319 : moving the time init function.
  
== Eros ==

It also overlays across patches from eros in diamondback to slow down timers (see
the diffs there for details).

== Mingw ==

Lots of minor stuff from jeff and service robotics, kinda mixed in and bugfixed to work.
  - Couldn't use alot of service robotic's code, it was vista++
  - Built our own poll function, largely similar to ssh's poll.

== Other ==

  - setUrl for master and network
  - roslib::Clock -> rosgraph_msgs::Clock
  - manifest removed roslib dependency, added boost filesystem, system and regex dependencies.
  - in init.cpp, ros::shutdown() aborts if !initialized (otherwise global queue ptr throws.

== Todo ==

Jeff's and service robotic's ports both used the following code to decode 
chars for msvc. Mingw didn't seem to need this, but we may need to introduce it later. 

<code file_log.cpp>
#ifdef WIN32
	LOG4CXX_DECODE_CHAR(temp01, std::string("[%c] [%d] [thread %t]: [%p] %m\n"));
	log4cxx::LayoutPtr layout = new log4cxx::PatternLayout(temp01);
	LOG4CXX_DECODE_CHAR(temp02, log_file_name);
	log4cxx::RollingFileAppenderPtr appender = new log4cxx::RollingFileAppender(layout, temp02, false);
#else
<endcode>

Might also be a better way to do a poll, see my email from josh faust.
    
==================== Patched ====================
=
= Following packages are patched upstream for
= for diamondback+. No need to worry about them
= anymore.
=
=================================================

==================== Rospack ====================

== Summary ==

Jeff's patch and fixes have gone.

==================== RosTime ====================
  
== Against ==

Files: time.h duration.h time.cpp
Patched Against: r12815
Ticket: https://code.ros.org/trac/ros/ticket/3331

== Summary	 ==

Windows dropins for getting the time and sleeping.
code for catching the time (already there, just needed to edit out the 
ROS_INFO) and nanosleep (provided by Geoff Biggs).

Note that troy has rearranged this package alot since then in trunk, but
all the changes are there, so don't worry about it.

== Mingw Fixes ==

- duration.h
  - remove the #include <windows.h>, doesn't seem to need it.
- ros.h 
  - Add a windows exception class.
  
- time.cpp
  - drop out now broken ROS_INFO calls.
  - drop in Geoffrey Biggs nanosleep replacement.
  - fix Geoffrey's bugs in the sleep code.
  
== ToDo ==

clock_gettime and nanosleep could probably be set up with their own proper cross platform
function definitions rather than having a scattering of ifdefs.


===================== Xmlrpcpp =====================

== Against ==

File: CMakeLists.txt, src/XmlRpcSocket.h
Patched Against: 11844
Ticket: https://code.ros.org/trac/ros/ticket/3332

== Summary ==

Funny defines for _WINDOW accomodated for as well as an extra header. Note this also
needed the toolchain to define the macro _WIN32_WINNT=0x0501, but that's easiest done
in the toolchain file.

== Mingw ==

- CMakeLists.txt
  - make sure we define xmlrpc's _WINDOW macro when on WIN systems (let cmake detect for us). 
- XmlRpcSocket.cpp
  - added an include for <ws2tcpip.h> - will be different for other wins?
  - avoid an EWOULDBLOCK error output on connecting (see comments).
  
==================== RosConsole ====================

== Against ==

File : CMakeLists.txt, include/ros/assert.h, include/ros/console.h, rosconsole.cpp
Revisions: 12943, 8377, 12775, 10539
Patched Against: 12775
Ticket: https://code.ros.org/trac/ros/ticket/3334
  
== Summary ==

Just put in a special case for mingw, not windows debug breaks and some cleanup.
Could update the colouring info for windows.

== Mingw ==

- CMakeLists.txt
  - temporary fix to make example.exe build, had to link by hand ach.
- assert.h
  - ifdef for mingw using DebugBreak instead of msvc's __debugbreak().
- console.h
  - mingw needs to include <cstdarg> in order to find va_list type.
- rosconsole.cpp
  - remove shell colours in windows (probably has a different notation?)
  